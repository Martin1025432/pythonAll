1 Tool P_NTool                  '工具坐标返回初始值。
2 PH=P_15
3 'Close                          '关闭文件
4 Loadset 1,1                       '设置，抓手1，工件1
5 OAdl On                            '打开最佳加减速控制
6 Spd 100
7 Servo On                           '开启伺服
8 Wait M_Svo=1                   '等待 M_Svo等于1才执行下一步
9 PCU=P_Fbc                       '把当前位置P_Fbc写进PCU
10 PCU.Z=90
11 Mvs PCU                           '把当前位置PCU上移到130mm
12 M_Out(16)=1
13 Mov Phome
14 Dly 0.5
15 Hlt
16 ''''''''''''''''''''''''''''''''''''''''''''''                       示教放料位PUT
17 Open "COM1:" As #1         '打开通讯端口COM3、文件1
18 Wait M_Open(1)=1            '等待COM3打开才执行下一步
19 Print# 1, "TRG"                 '发送TRG，让相机拍照
20 Dly 0.1
21 Input #1,mx,my,ma     '接收来至相机的数据
22 pvs1=P_Zero                          '把pvs清零
23 pvs1=PVSCal(1,mx,my,ma)      '把
24 pvs1.C=Rad(ma)                     '将角度单位度(deg)转换为弧度(rad)。写进pvs.C
25 pvs1.FL1=pvschk.FL1
26 pvs1.FL2=pvschk.FL2
27 PUT1=pvs1*PH
28 Mov PUT1,50
29 Dly 0.5
30 Mvs PUT1
31 Dly 0.5
32 Hlt
33 End
PH=(-0.159,-6.138,+55.909,+0.000,+0.000,-31.227,+0.000,+0.000)(4,0)
PCU=(+398.603,-230.710,+120.000,+0.000,+0.000,-31.227)(4,0)
Phome=(+180.721,-235.863,+90.000,+0.000,+0.000,-31.227)(4,0)
pvs1=(+398.763,-224.572,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000)(,)
pvschk=(+0.000,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000)(,)
PUT1=(+398.603,-230.710,+55.909,+0.000,+0.000,-31.227,+0.000,+0.000)(4,0)
PPUT=(+0.000,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000)(,)
PTL2=(+50.030,+3.570,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000)(0,0)
PTRG=(+436.930,+760.500,+302.980,+180.000,+0.000,+90.000,+0.000,+0.000)(7,0)
PUT=(+402.068,-235.863,+55.909,+0.000,+0.000,-31.227)(4,0)
PVS=(+0.000,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000)(,)
pvs0=(+402.227,-229.725,+0.000,+0.000,+0.000,+0.000,+0.000,+0.000)(,)
PWK=(+424.400,+742.320,+302.840,+180.000,+0.000,+90.000)(7,0)
